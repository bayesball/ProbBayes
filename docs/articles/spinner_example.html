<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spinner Example • TeachBayes</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><meta property="og:title" content="Spinner Example">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TeachBayes</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/beta_example.html">Beta Example</a>
    </li>
    <li>
      <a href="../articles/finite_sampling.html">Sampling from a Box of Two Types of Colored Balls</a>
    </li>
    <li>
      <a href="../articles/spinner_example.html">Spinner Example</a>
    </li>
    <li>
      <a href="../articles/teachbayes_intro.html">TeachBayes Package</a>
    </li>
    <li>
      <a href="../articles/two_proportions.html">Two_Proportions</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Spinner Example</h1>
            
      
      
      <div class="hidden name"><code>spinner_example.Rmd</code></div>

    </div>

    
    
<div id="which-spinner-is-spun" class="section level3">
<h3 class="hasAnchor">
<a href="#which-spinner-is-spun" class="anchor"></a>Which Spinner is Spun?</h3>
<p>Suppose we have four spinners with the following probabilities on the values 1, 2, 3, 4 (each row corresponds to the probabilities of 1, 2, 3, 4, for a specific spinner). One of the spinners will be chosen and we will learn the identity of the spinner by spinning it 10 times, getting a sequence of observations (each observation will be an integer from 1 to 4).</p>
<p>We define each spinner by a vector of region areas:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">s_reg_A &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>)
s_reg_B &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>)
s_reg_C &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">2</span>)
s_reg_D &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">1</span>)</code></pre></div>
<p>Show the four spinners:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(TeachBayes)
<span class="kw"><a href="../reference/many_spinner_plots.html">many_spinner_plots</a></span>(<span class="kw">list</span>(s_reg_A, s_reg_B, 
                        s_reg_C, s_reg_D))</code></pre></div>
<p><img src="Figs/figure_3a.png" width="768"></p>
<p>Define the corresponding probability distributions:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(Prob &lt;-<span class="st"> </span><span class="kw"><a href="../reference/spinner_likelihoods.html">spinner_likelihoods</a></span>(<span class="kw">list</span>(s_reg_A, s_reg_B, s_reg_C, s_reg_D)))</code></pre></div>
<pre><code>##               1     2     3     4
## Spinner A 0.250 0.250 0.250 0.250
## Spinner B 0.500 0.125 0.125 0.250
## Spinner C 0.250 0.500 0.250 0.000
## Spinner D 0.125 0.375 0.375 0.125</code></pre>
<p>I use the sample function to simulate 10 spins from Spinner B. (Here we know the current spinner and we are interested in seeing how well Bayes’ rule can do in identifying this spinner.)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(spins &lt;-<span class="st"> </span><span class="kw"><a href="../reference/spinner_data.html">spinner_data</a></span>(s_reg_B, <span class="dt">nsim=</span><span class="dv">10</span>))</code></pre></div>
<pre><code>##  [1] 3 3 1 2 1 1 1 4 4 2</code></pre>
<p>Compute the likelhoods of the four spinners using the dspinner function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">likelihoods &lt;-<span class="st"> </span><span class="kw"><a href="../reference/dspinner.html">dspinner</a></span>(spins, Prob)</code></pre></div>
<p>Find the posterior probabilities of the four spinners using the bayesian_crank function. Initially we don’t know which is selected and so we assign prior probabilities of 1/4 to each spinner. The likelihoods are the probabilities of the observed data for each spinner, and the posterior gives the updated probabilities.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">models &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"Spinner A"</span>, <span class="st">"Spinner B"</span>, <span class="st">"Spinner C"</span>, <span class="st">"Spinner D"</span>)
prior &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">4</span>, <span class="dv">4</span>)
bayes_table &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">Model=</span>models,
                          <span class="dt">Prior=</span>prior,
                          <span class="dt">Likelihood=</span>likelihoods)
(<span class="kw"><a href="../reference/bayesian_crank.html">bayesian_crank</a></span>(bayes_table) -&gt;<span class="st"> </span>bayes_table)</code></pre></div>
<pre><code>##       Model Prior   Likelihood      Product  Posterior
## 1 Spinner A  0.25 9.536743e-07 2.384186e-07 0.48097698
## 2 Spinner B  0.25 9.536743e-07 2.384186e-07 0.48097698
## 3 Spinner C  0.25 0.000000e+00 0.000000e+00 0.00000000
## 4 Spinner D  0.25 7.543713e-08 1.885928e-08 0.03804603</code></pre>
<p>Graph the prior and posterior probabilities. Hopefully Spinner B will have a high posterior probability since it was the one that was spun.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/prior_post_plot.html">prior_post_plot</a></span>(bayes_table)</code></pre></div>
<p><img src="Figs/figure_3b.png" width="768"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by .</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
